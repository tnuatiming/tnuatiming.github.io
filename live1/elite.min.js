var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var e=0;return function(){return e<a.length?{done:!1,value:a[e++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var e="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return e?e.call(a):$jscomp.arrayIterator(a)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,f){a!=Array.prototype&&a!=Object.prototype&&(a[e]=f.value)};
$jscomp.polyfill=function(a,e,f,h){if(e){f=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var g=a[h];g in f||(f[g]={});f=f[g]}a=a[a.length-1];h=f[a];e=e(h);e!=h&&null!=e&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:e})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function e(){this.batch_=null}function f(a){return a instanceof g?a:new g(function(e,d){e(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;e.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};e.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var h=$jscomp.global.setTimeout;e.prototype.asyncExecuteFunction=function(a){h(a,
0)};e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var e=0;e<a.length;++e){var d=a[e];a[e]=null;try{d()}catch(k){this.asyncThrow_(k)}}}this.batch_=null};e.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var g=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var e=this.createResolveAndReject_();try{a(e.resolve,e.reject)}catch(d){e.reject(d)}};g.prototype.createResolveAndReject_=
function(){function a(a){return function(b){d||(d=!0,a.call(e,b))}}var e=this,d=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};g.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof g)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var e=null!=a;break a;case "function":e=!0;break a;default:e=!1}e?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};g.prototype.resolveToNonPromiseObj_=function(a){var e=
void 0;try{e=a.then}catch(d){this.reject_(d);return}"function"==typeof e?this.settleSameAsThenable_(e,a):this.fulfill_(a)};g.prototype.reject_=function(a){this.settle_(2,a)};g.prototype.fulfill_=function(a){this.settle_(1,a)};g.prototype.settle_=function(a,e){if(0!=this.state_)throw Error("Cannot settle("+a+", "+e+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=e;this.executeOnSettledCallbacks_()};g.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
0;a<this.onSettledCallbacks_.length;++a)u.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var u=new e;g.prototype.settleSameAsPromise_=function(a){var e=this.createResolveAndReject_();a.callWhenSettled_(e.resolve,e.reject)};g.prototype.settleSameAsThenable_=function(a,e){var d=this.createResolveAndReject_();try{a.call(e,d.resolve,d.reject)}catch(k){d.reject(k)}};g.prototype.then=function(a,e){function d(a,c){return"function"==typeof a?function(c){try{f(a(c))}catch(p){b(p)}}:
c}var f,b,c=new g(function(a,c){f=a;b=c});this.callWhenSettled_(d(a,f),d(e,b));return c};g.prototype.catch=function(a){return this.then(void 0,a)};g.prototype.callWhenSettled_=function(a,e){function d(){switch(f.state_){case 1:a(f.result_);break;case 2:e(f.result_);break;default:throw Error("Unexpected state: "+f.state_);}}var f=this;null==this.onSettledCallbacks_?u.asyncExecute(d):this.onSettledCallbacks_.push(d)};g.resolve=f;g.reject=function(a){return new g(function(e,d){d(a)})};g.race=function(a){return new g(function(e,
d){for(var h=$jscomp.makeIterator(a),b=h.next();!b.done;b=h.next())f(b.value).callWhenSettled_(e,d)})};g.all=function(a){var e=$jscomp.makeIterator(a),d=e.next();return d.done?f([]):new g(function(a,b){function c(b){return function(c){h[b]=c;g--;0==g&&a(h)}}var h=[],g=0;do h.push(void 0),g++,f(d.value).callWhenSettled_(c(h.length-1),b),d=e.next();while(!d.done)})};return g},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},e={};try{return e.__proto__=a,e.a}catch(f){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,e){a.__proto__=e;if(a.__proto__!==e)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,e){this.nextAddress=e;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,e){a=$jscomp.makeIterator(a);var f=a.next();$jscomp.generator.ensureIteratorResultIsObject_(f);if(f.done)this.yieldResult=f.value,this.nextAddress=e;else return this.yieldAllIterator_=a,this.yield(f.value,e)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,e){this.catchAddress_=a;void 0!=e&&(this.finallyAddress_=e)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,e){this.nextAddress=a;this.catchAddress_=e||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,e,f){f?this.finallyContexts_[f]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=e||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,e){e=this.finallyContexts_.splice(e||0)[0];if(e=this.abruptCompletion_=this.abruptCompletion_||e){if(e.isException)return this.jumpToErrorHandler_();void 0!=e.jumpTo&&this.finallyAddress_<e.jumpTo?(this.nextAddress=e.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var e in a)this.properties_.push(e);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var e=this.context_.yieldAllIterator_;if(e)return this.yieldAllStep_("return"in e?e["return"]:function(a){return{value:a,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,e,f){try{var h=a.call(this.context_.yieldAllIterator_,e);$jscomp.generator.ensureIteratorResultIsObject_(h);if(!h.done)return this.context_.stop_(),h;var g=h.value}catch(u){return this.context_.yieldAllIterator_=null,this.context_.throw_(u),this.nextStep_()}this.context_.yieldAllIterator_=null;f.call(this.context_,g);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(e){this.context_.yieldResult=void 0,this.context_.throw_(e)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(e){return a.next_(e)};this.throw=function(e){return a.throw_(e)};this.return=function(e){return a.return_(e)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,e){e=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(e,a.prototype);return e};
$jscomp.asyncExecutePromiseGenerator=function(a){function e(e){return a.next(e)}function f(e){return a.throw(e)}return new Promise(function(h,g){function u(a){a.done?h(a.value):Promise.resolve(a.value).then(e,f).then(u,g)}u(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,f){return a===f?0!==a||1/a===1/f:a!==a&&f!==f}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,f){var e=this;e instanceof String&&(e=String(e));var g=e.length;f=f||0;for(0>f&&(f=Math.max(f+g,0));f<g;f++){var u=e[f];if(u===a||Object.is(u,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,e,f){if(null==a)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,f){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,f||0)}},"es6","es3");
$jscomp.iteratorFromArray=function(a,e){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var f=0,h={next:function(){if(f<a.length){var g=f++;return{value:e(g,a[g]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
var cleanResults="0",harescrambleFinishE=72E5,harescrambleFinishC=54E5,harescrambleFinishBeginers=36E5,TimerLoad,TimerChange,MaxNum,Rafraichir,Changement,ClassementReduit,ClassementReduitXpremier,UrlRefresh,UrlChange;Rafraichir=1E4;Changement=6E4;ClassementReduit=MaxNum=1;ClassementReduitXpremier=10;var positionArray=[],lapsArray=[],useCategory="yes",categoryBestTimePrevious={};sessionStorage.getItem("categoryBestTimePrevious")&&(categoryBestTimePrevious=JSON.parse(sessionStorage.getItem("categoryBestTimePrevious")));
var ticker=[];sessionStorage.getItem("ticker")&&(ticker=JSON.parse(sessionStorage.getItem("ticker")));var firstPlace="",firstPass="1",tickerBestTime="-";sessionStorage.getItem("tickerBestTime")&&(tickerBestTime=sessionStorage.getItem("tickerBestTime"));var eventName="";sessionStorage.getItem("eventName")&&(eventName=sessionStorage.getItem("eventName"));var flag="";sessionStorage.getItem("flag")&&(flag=sessionStorage.getItem("flag"));var doNotShowInTicker=[];
sessionStorage.getItem("doNotShowInTicker")&&(doNotShowInTicker=JSON.parse(sessionStorage.getItem("doNotShowInTicker")));sessionStorage.getItem("useCategory")&&(useCategory=sessionStorage.getItem("useCategory"));var tableClass="fadeIn ";function category(a){positionArray=[];useCategory=a;"yes"==useCategory?sessionStorage.setItem("useCategory","yes"):"no"==useCategory&&sessionStorage.setItem("useCategory","no");tableClass="fadeIn ";Load("p1.html","result")}
function Load(a,e){var f,h,g,u,w,v,d,k,b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){switch(c.nextAddress){case 1:TimerLoad&&clearTimeout(TimerLoad);"yes"==useCategory?(document.getElementById("displayCatButton").style.display="none",document.getElementById("displayAllButton").style.display="block"):"no"==useCategory&&(document.getElementById("displayCatButton").style.display="block",document.getElementById("displayAllButton").style.display="none");if(!self.fetch){h=new XMLHttpRequest;
h.onreadystatechange=function(){4==h.readyState&&200==h.status&&(document.getElementById("categoryOrAll").style.display="block",document.getElementById(e).innerHTML=createLiveTable(h.responseText))};h.open("GET",a+(/\?/.test(a)?"&":"?")+(new Date).getTime(),!0);h.send(null);populatePre("uploadMsg.txt","updates");c.jumpTo(2);break}c.setCatchFinallyBlocks(3);return c.yield(fetch(a,{cache:"no-store"}),5);case 5:g=c.yieldResult;if(!g.ok){c.jumpTo(6);break}document.getElementById("categoryOrAll").style.display=
"block";u=document.getElementById(e);w=createLiveTable;return c.yield(g.text(),7);case 7:u.innerHTML=w(c.yieldResult);case 6:c.leaveTryBlock(4);break;case 3:v=c.enterCatchBlock(),console.log("results fetch failed",v);case 4:return c.setCatchFinallyBlocks(8),c.yield(fetch("uploadMsg.txt",{cache:"no-store"}),10);case 10:d=c.yieldResult;if(!d.ok){c.jumpTo(11);break}k=document.getElementById("updates");return c.yield(d.text(),12);case 12:k.innerHTML=c.yieldResult;case 11:c.leaveTryBlock(2);break;case 8:b=
c.enterCatchBlock(),console.log("msg fetch failed",b);case 2:f=function(){Load(a,e)},TimerLoad=setTimeout(f,Rafraichir),Rafraichir=3E4,c.jumpToEnd()}})}function populatePre(a,e){var f=new XMLHttpRequest;f.onreadystatechange=function(){4==f.readyState&&200==f.status&&(document.getElementById(e).innerHTML=f.responseText)};f.open("GET",a,!0);f.send()}
function createLiveTable(a){var e=0,f=1,h=1,g=0,u=0,w=0,v=0,d=0,k=0;d=0;var b=[];k=[];var c=[],D=0,B="99999999999",z=[],p="&nbsp;",l=0;d=0;var m="";var y=6,C=0,E="",F="",G="";a=a.split("<table");a[1]=a[1].substring(a[1].indexOf("<tr"),a[1].lastIndexOf("</tr>")+5);m=a[1].split("\n");var t=a[0].split("\n"),r=document.createElement("div");r.innerHTML=t[0];var n=r.textContent||r.innerText||"";var A=n.split("-")[1].trim();r=t[1].split(":");r=("0"+r[0].slice(-2).trim()).slice(-2)+":"+r[1];var q={};eventName!=
n&&(doNotShowInTicker=[],ticker=[],firstPlace=flag="",tickerBestTime="-",categoryBestTimePrevious={});eventName=n;sessionStorage.setItem("eventName",eventName);a[0].includes("_GreenFlag")?("0"==firstPass&&"green"!=flag&&ticker.push(r+" - \u05d6\u05d9\u05e0\u05d5\u05e7/\u05d3\u05d2\u05dc \u05d9\u05e8\u05d5\u05e7 "+A),flag="green"):a[0].includes("_CheckeredFlag")?("0"==firstPass&&"checkered"!=flag&&ticker.push(r+" - \u05e1\u05d9\u05d5\u05dd "+A),flag="checkered"):a[0].includes("_Stop")?("0"==firstPass&&
"checkered"!=flag&&ticker.push(r+" - \u05e1\u05d9\u05d5\u05dd"),flag="checkered"):a[0].includes("_RedFlag")?("0"==firstPass&&"red"!=flag&&ticker.push(r+" - \u05d3\u05d2\u05dc \u05d0\u05d3\u05d5\u05dd"),flag="red"):a[0].includes("_YellowFlag")?("0"==firstPass&&"yellow"!=flag&&ticker.push(r+" - \u05d3\u05d2\u05dc \u05e6\u05d4\u05d5\u05d1"),flag="yellow"):flag="";if(t[0].includes("\u05d8\u05e1\u05d8")||t[0].includes("\u05e1\u05e4\u05d9\u05d9\u05e9\u05dc"))e=g=1,f=0;t[0].includes("2 \u05d4\u05e7\u05e4\u05d5\u05ea")&&
(e=1,f=0,y=2,h=0,a[0]=a[0].replace("2 \u05d4\u05e7\u05e4\u05d5\u05ea",""));if(t[0].includes("\u05e1\u05e7\u05e8\u05de\u05d1\u05dc")||t[0].includes("\u05d4\u05d9\u05d9\u05e8"))u=1;if(t[0].includes("\u05d3\u05d9\u05e8\u05d5\u05d2")||t[0].includes("\u05d3\u05e8\u05d5\u05d2"))v=1,h=0;t[0].includes("\u05e8\u05d0\u05dc\u05d9")&&t[0].includes("\u05e1\u05e4\u05e8\u05d9\u05e0\u05d8")&&(w=1,h=0);t[0].includes("+++")&&(cleanResults="1",a[0]=a[0].replace("+++",""));a=a[0];for(n=0;n<m.length;n++)if(m[n].includes('<td id="Id_'))A=
m[n].substring(m[n].indexOf(' id="')+4).split('"')[1],m[n].substring(m[n].indexOf(">")+1,m[n].lastIndexOf("<")),b.push(A);else if(m[n].includes("OddRow")||m[n].includes("EvenRow"))l=1;else if(m[n].includes("</tr>")&&1==l)l=0,"undefined"==typeof q[k.Id_Categorie]&&(q[k.Id_Categorie]=[Number(99999999),"-","-"]),q[k.Id_Categorie][0]>timeString2ms(k.Id_MeilleurTour)&&"-"!=k.Id_MeilleurTour&&(q[k.Id_Categorie]=[Number(timeString2ms(k.Id_MeilleurTour)),k.Id_Numero,k.Id_Nom]),c.push(k),k=[],C=d=0;else if(m[n].includes("<td ")&&
1==l){m[n].includes("(C)")&&(C=1);if("Id_Position"==b[d]||"Id_NbTour"==b[d]||"Id_TpsCumule"==b[d])k[b[d]+"_Penalty"]=1==C?1:0;k[b[d]]="undefined"!=typeof m[n]&&"1"==cleanResults?m[n].substring(m[n].indexOf(">")+1,m[n].lastIndexOf("<")).replace("(C) ",""):"undefined"!=typeof m[n]?m[n].substring(m[n].indexOf(">")+1,m[n].lastIndexOf("<")).replace("(C) ",""):"-";m[n].includes("BestTimeOverall")&&"Id_TpsTour"==b[d]?z[k.Id_Numero]=" BestTimeOverall":m[n].includes("BestTime")&&"Id_TpsTour"==b[d]?z[k.Id_Numero]=
" BestTime":"Id_TpsTour"==b[d]&&(z[k.Id_Numero]="");"Id_Categorie"!=b[d]||"-"!=k[b[d]]&&""!=k[b[d]]&&"&nbsp;"!=k[b[d]]&&"undefined"!=typeof k[b[d]]||(k[b[d]]="&nbsp;");1==e&&("Id_TpsTour1"==b[d]||"Id_TpsTour2"==b[d]||"Id_TpsTour3"==b[d]||"Id_TpsTour4"==b[d]||"Id_TpsTour5"==b[d]||"Id_TpsTour6"==b[d])&&"-"!=k[b[d]]&&timeString2ms(k[b[d]])<=timeString2ms(B)&&(B=k[b[d]],D=k.Id_Numero);d+=1}"yes"==useCategory&&c.sort(function(a,b){return("&nbsp;"==a.Id_Categorie)-("&nbsp;"==b.Id_Categorie)||a.Id_Categorie.localeCompare(b.Id_Categorie)||
a.Id_PositionCategorie-b.Id_PositionCategorie});a+='\n<div id="liveTable"><table class="'+tableClass+'line_color">\n';for(b=0;b<c.length;b++){"no"==useCategory&&"-"!=c[b].Id_Ecart1er&&("00:"==c[b].Id_Ecart1er.toString().substring(0,3)&&(c[b].Id_Ecart1er=c[b].Id_Ecart1er.substr(3)),"0"==c[b].Id_Ecart1er.toString().substring(0,1)&&c[b].Id_Ecart1er.includes(":")&&(c[b].Id_Ecart1er=c[b].Id_Ecart1er.substr(1)));"yes"==useCategory&&"-"!=c[b].Id_Ecart1erCategorie&&("00:"==c[b].Id_Ecart1erCategorie.toString().substring(0,
3)&&(c[b].Id_Ecart1erCategorie=c[b].Id_Ecart1erCategorie.substr(3)),"0"==c[b].Id_Ecart1erCategorie.toString().substring(0,1)&&c[b].Id_Ecart1erCategorie.includes(":")&&(c[b].Id_Ecart1erCategorie=c[b].Id_Ecart1erCategorie.substr(1)));"undefined"!=typeof c[b].Id_TpsCumule&&"-"!=c[b].Id_TpsCumule&&("00:"==c[b].Id_TpsCumule.toString().substring(0,3)&&(c[b].Id_TpsCumule=c[b].Id_TpsCumule.substr(3)),"0"==c[b].Id_TpsCumule.toString().substring(0,1)&&c[b].Id_TpsCumule.includes(":")&&(c[b].Id_TpsCumule=c[b].Id_TpsCumule.substr(1)));
if(c[b].Id_TpsTour1&&1==e)for(d=k=y;-1<d;d--)if(c[b]["Id_TpsTour"+d]&&"-"!=c[b]["Id_TpsTour"+d]||0==d){for(l=1;l<=k;l++)c[b]["Id_lap"+l]=0<d?c[b]["Id_TpsTour"+d]:"-",d--;d=-1}l='<tr class="rnkh_bkcolor">\n';"1"!=cleanResults&&(l+='<th class="rnkh_font Id_Arrow"></th>\n');l+='<th class="rnkh_font Id_Position">\u05de\u05e7\u05d5\u05dd</th>\n';l+='<th class="rnkh_font Id_Numero">\u05de\u05e1\u05e4\u05e8</th>\n';l+='<th class="rnkh_font Id_Nom">\u05e9\u05dd</th>\n';1==f&&0==w&&(l+='<th class="rnkh_font Id_NbTour">\u05d4\u05e7\u05e4\u05d5\u05ea</th>\n');
if(1==e&&c[b].Id_lap1)for(d=1;d<=y;d++)l+='<th class="rnkh_font Id_lap'+d+'">\u05d4\u05e7\u05e4\u05d4 '+d+"</th>\n";else"1"!=cleanResults&&(l+='<th class="rnkh_font Id_TpsTour">\u05d4\u05e7\u05e4\u05d4 \u05d0\u05d7\u05e8\u05d5\u05e0\u05d4</th>\n'),l+='<th class="rnkh_font Id_MeilleurTour">\u05d4\u05e7\u05e4\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4</th>\n';0==v&&0==w&&(l+='<th class="rnkh_font Id_TpsCumule">\u05d6\u05de\u05df</th>\n');"yes"==useCategory?l+='<th class="rnkh_font Id_Ecart1erCategorie">\u05e4\u05e2\u05e8</th>\n':
"no"==useCategory&&(l+='<th class="rnkh_font Id_Ecart1er">\u05e4\u05e2\u05e8</th>\n');l+="</tr>\n";1==c[b].Id_Position&&("1"==firstPass&&(t[0].includes("_GreenFlag")||t[0].includes("_CheckeredFlag"))&&(firstPlace=c[b].Id_Numero),firstPlace!=c[b].Id_Numero&&0<c[b].Id_NbTour&&(t[0].includes("_GreenFlag")||t[0].includes("_CheckeredFlag"))&&(firstPlace=c[b].Id_Numero,ticker.push(r+" - "+c[b].Id_Nom+" ("+c[b].Id_Numero+") \u05e2\u05d1\u05e8 \u05dc\u05de\u05e7\u05d5\u05dd \u05d4\u05e8\u05d0\u05e9\u05d5\u05df!")));
k=c[b].Id_Numero;d=0;c[b].Id_Arrow="&#9670;";c[b].Id_Image.includes("_Status10")?(c[b].Id_Arrow='<img class="dnsfq" src="Images/_dsq.svg" alt="dsq">',doNotShowInTicker.includes(c[b].Id_Numero)||(ticker.push(r+" - "+c[b].Id_Nom+" ("+c[b].Id_Numero+") \u05e0\u05e4\u05e1\u05dc"),doNotShowInTicker.push(c[b].Id_Numero))):c[b].Id_Image.includes("_Status11")?(c[b].Id_Arrow='<img class="dnsfq" src="Images/_dnf.svg" alt="dnf">',doNotShowInTicker.includes(c[b].Id_Numero)||(ticker.push(r+" - "+c[b].Id_Nom+" ("+
c[b].Id_Numero+") \u05e4\u05e8\u05e9"),doNotShowInTicker.push(c[b].Id_Numero))):c[b].Id_Image.includes("_Status12")?c[b].Id_Arrow='<img class="dnsfq" src="Images/_dns.svg" alt="dns">':c[b].Id_Image.includes("_Status2")?c[b].Id_Arrow='<img class="dnsfq" src="Images/_nq.svg" alt="nq">':c[b].Id_Image.includes("_Status")?c[b].Id_Arrow='<img class="dnsfq" src="Images/_status.svg" alt="status">':c[b].Id_Arrow="&#9670;";c[b].Id_Position&&"no"==useCategory&&(d=Number(c[b].Id_Position));c[b].Id_PositionCategorie&&
"yes"==useCategory&&(d=Number(c[b].Id_PositionCategorie));m="";0<d&&0<=k&&("-"!=c[b].Id_TpsTour||0<c[b].Id_NbTour||c[b].Id_Image.includes("_TrackPassing"))&&(positionArray[k]&&(0<c[b].Id_NbTour||1==v&&"-"!=c[b].Id_TpsTour)&&(positionArray[k]<d?(c[b].Id_Arrow='<img class="postionChanged" src="Images/_MinusPosition.svg" alt="lost places">',m="lostPosition "):positionArray[k]>d&&(c[b].Id_Arrow='<img class="postionChanged" src="Images/_PlusPosition.svg" alt="gained places">',m="gainedPosition ","no"==
useCategory&&1<d&&"???"!=c[b].Id_Nom&&3>=c[b].Id_Position?ticker.push(r+" - "+c[b].Id_Nom+" ("+c[b].Id_Numero+") \u05e2\u05dc\u05d4 \u05dc\u05de\u05e7\u05d5\u05dd "+d):1<Object.keys(q).length&&"yes"==useCategory&&"???"!=c[b].Id_Nom&&3>=c[b].Id_PositionCategorie&&"undefined"!=c[b].Id_Categorie?ticker.push(r+" - "+c[b].Id_Nom+" ("+c[b].Id_Numero+") \u05e2\u05dc\u05d4 \u05dc\u05de\u05e7\u05d5\u05dd "+d+" \u05d1\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 "+c[b].Id_Categorie):"yes"==useCategory&&"???"!=
c[b].Id_Nom&&3>=c[b].Id_PositionCategorie&&"undefined"!=c[b].Id_Categorie&&ticker.push(r+" - "+c[b].Id_Nom+" ("+c[b].Id_Numero+") \u05e2\u05dc\u05d4 \u05dc\u05de\u05e7\u05d5\u05dd "+d))),positionArray[k]=d);c[b].Id_NbTour&&(d=c[b].Id_NbTour,d!=lapsArray[k]&&""==m&&"0"==firstPass&&(m="unChanged "),lapsArray[k]=d);""!=m&&"unChanged "!=m||!c[b].Id_Image.includes("_TrackPassing")&&"1"!=c[b].Id_Canal||c[b].Id_Image.includes("_Status")||(c[b].Id_Arrow='<img class="postionSame" src="Images/_TrackPassing.svg" alt="same places">');
1==c[b].Id_PositionCategorie&&"yes"==useCategory?(1==h&&"&nbsp;"!=p&&"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05db\u05dc\u05dc\u05d9\u05ea"!=p&&"-"!=q[p][1]&&(d=ms2TimeString(Number(q[p][0])),"00:"==d.toString().substring(0,3)&&(d=d.substr(3)),"0"==d.toString().substring(0,1)&&d.includes(":")&&(d=d.substr(1)),a+='<tr><td colspan="99" class="comment_font">\u05d4\u05e7\u05e4\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4: ('+q[p][1]+") "+q[p][2]+" - "+d+"</td></tr>\n"),a+='<tr><td colspan="99" class="title_font">'+
c[b].Id_Categorie+"</td></tr>"+l+"\n",p=c[b].Id_Categorie):1==c[b].Id_Position&&"no"==useCategory&&(a+='<tr><td colspan="99" class="title_font">\u05db\u05dc\u05dc\u05d9</td></tr>'+l+"\n");c[b].Id_Image.includes("_Status11")&&"yes"==useCategory&&E!=p&&"1"==cleanResults?(a+='<tr><td colspan="99" class="subtitle_font">\u05dc\u05d0 \u05e1\u05d9\u05d9\u05dd - DNF</td></tr>\n',E=p):c[b].Id_Image.includes("_Status10")&&"yes"==useCategory&&G!=p&&"1"==cleanResults?(a+='<tr><td colspan="99" class="subtitle_font">\u05e0\u05e4\u05e1\u05dc - DSQ</td></tr>\n',
G=p):c[b].Id_Image.includes("_Status12")&&"yes"==useCategory&&F!=p&&"1"==cleanResults&&(a+='<tr><td colspan="99" class="subtitle_font">\u05dc\u05d0 \u05d4\u05ea\u05d7\u05d9\u05dc - DNS</td></tr>\n',F=p);a=0==b%2?a+('<tr class="'+m+'rnk_bkcolor OddRow">\n'):a+('<tr class="'+m+'rnk_bkcolor EvenRow">\n');l=0;1==u&&(l=c[b].Id_Categorie.toUpperCase().includes("E")&&timeString2ms(c[b].Id_TpsCumule)>=harescrambleFinishE?1:c[b].Id_Categorie.toUpperCase().includes("\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd")&&
timeString2ms(c[b].Id_TpsCumule)>=harescrambleFinishBeginers?1:(c[b].Id_Categorie.toUpperCase().includes("\u05e2\u05de\u05de\u05d9\u05ea")||c[b].Id_Categorie.toUpperCase().includes("\u05e1\u05e0\u05d9\u05d5\u05e8\u05d9\u05dd")||c[b].Id_Categorie.toUpperCase().includes("\u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8")&&c[b].Id_Categorie.toUpperCase().includes("\u05de\u05e7\u05e6\u05d5\u05e2\u05d9"))&&timeString2ms(c[b].Id_TpsCumule)>=harescrambleFinishC?1:0);l=c[b].Id_Image.includes("_CheckeredFlag")||!c[b].Id_Image.includes("_Status")&&
1==e&&(c[b].Id_Image.includes("_CheckeredFlag")||c[b].Id_NbTour==y||1==g&&c[b].Id_NbTour==y-2&&c[b].Id_Categorie.includes("\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd")||1==g&&c[b].Id_NbTour==y-1&&!c[b].Id_Categorie.toUpperCase().includes("E"))?"finished ":c[b].Id_Image.includes("_Status")||1!=l?"":"finished ";"1"!=cleanResults&&(a=c[b].Id_Arrow.includes("dnsfq")?a+('<td class="rnk_font dnsfq">'+c[b].Id_Arrow+"</td>\n"):c[b].Id_Arrow.includes("_MinusPosition")?a+('<td class="'+l+'rnk_font red">'+c[b].Id_Arrow+
"</td>\n"):c[b].Id_Arrow.includes("_PlusPosition")?a+('<td class="'+l+'rnk_font green">'+c[b].Id_Arrow+"</td>\n"):"finished "==l?a+'<td class="rnk_font finished black"></td>\n':c[b].Id_Arrow.includes("_TrackPassing")?a+('<td class="rnk_font black fadeIn">'+c[b].Id_Arrow+"</td>\n"):"P"==c[b].Id_Arrow?a+'<td class="rnk_font black fadeIn">P</td>\n':"&#9670;"==c[b].Id_Arrow?a+'<td class="rnk_font white scale">&#9670;</td>\n':a+('<td class="rnk_font orange">'+c[b].Id_Arrow+"</td>\n"));"yes"==useCategory?
a=c[b].Id_Image.includes("_Status")||"-"==c[b].Id_TpsTour||0==c[b].Id_NbTour||"-"==c[b].Id_NbTour||1==v&&"-"==c[b].Id_TpsTour?a+'<td class="rnk_font"></td>\n':a+('<td class="rnk_font">'+c[b].Id_PositionCategorie+"</td>\n"):"no"==useCategory&&(c[b].Id_Image.includes("_Status")&&"1"==cleanResults?c[b].Id_Image.includes("_Status11")?a+='<td class="rnk_font"><img class="dnsfq" src="Images/_dnf.svg" alt="dnf"></td>\n':c[b].Id_Image.includes("_Status10")?a+='<td class="rnk_font"><img class="dnsfq" src="Images/_dsq.svg" alt="dsq"></td>\n':
c[b].Id_Image.includes("_Status12")?a+='<td class="rnk_font"><img class="dnsfq" src="Images/_dns.svg" alt="dns"></td>\n':c[b].Id_Image.includes("_Status2")?a+='<td class="rnk_font"><img class="dnsfq" src="Images/_nq.svg" alt="nq"></td>\n':c[b].Id_Image.includes("_Status")&&(a+='<td class="rnk_font"><img class="dnsfq" src="Images/_status.svg" alt="status"></td>\n'):a=c[b].Id_Image.includes("_Status")||"-"==c[b].Id_TpsTour||0==c[b].Id_NbTour||"-"==c[b].Id_NbTour||1==v&&"-"==c[b].Id_TpsTour?a+'<td class="rnk_font"></td>\n':
1==c[b].Id_Position_Penalty?a+('<td class="rnk_font penalty">P '+c[b].Id_Position+"</td>\n"):a+('<td class="rnk_font">'+c[b].Id_Position+"</td>\n"));l=c[b].Id_Numero;d=c[b].Id_Categorie;a="no"==useCategory&&(t[0].includes("\u05de\u05d5\u05d8\u05d5\u05e7\u05e8\u05d5\u05e1")||t[0].includes("\u05d0\u05e0\u05d3\u05d5\u05e8\u05d5"))?d.toUpperCase().includes("E1")||d.toUpperCase().includes("MX2")||d.toUpperCase().includes("\u05e8\u05d5\u05e7\u05d9\u05d6")?a+('<td class="rnk_font blackCat" aria-label="'+
d+'" >'+l+"</td>\n"):d.toUpperCase().includes("E2")?a+('<td class="rnk_font redCat" aria-label="'+d+'">'+l+"</td>\n"):d.toUpperCase().includes("E3")||d.toUpperCase().includes("\u05e4\u05ea\u05d5\u05d7\u05d4")?a+('<td class="rnk_font yellowCat" aria-label="'+d+'">'+l+"</td>\n"):d.toUpperCase().includes("C1")||d.toUpperCase().includes("C2")||d.toUpperCase().includes("C3")||d.toUpperCase().includes("\u05e2\u05de\u05de\u05d9\u05ea")?a+('<td class="rnk_font greenCat" aria-label="'+d+'">'+l+"</td>\n"):
d.toUpperCase().includes("\u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8 \u05de\u05e7\u05e6\u05d5\u05e2\u05d9")||d.toUpperCase().includes("\u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8 \u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd")?a+('<td class="rnk_font grayCat" aria-label="'+d+'">'+l+"</td>\n"):d.toUpperCase().includes("\u05e1\u05d5\u05e4\u05e8 \u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8")?a+('<td class="rnk_font blueCat" aria-label="'+d+'">'+l+"</td>\n"):d.toUpperCase().includes("\u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8")||
d.toUpperCase().includes("expert")?a+('<td class="rnk_font orangeCat" aria-label="'+d+'">'+l+"</td>\n"):d.toUpperCase().includes("\u05e1\u05d5\u05e4\u05e8 \u05e1\u05e0\u05d9\u05d5\u05e8")||d.toUpperCase().includes("\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd")||d.toUpperCase().includes("MX1")?a+('<td class="rnk_font whiteCat" aria-label="'+d+'">'+l+"</td>\n"):d.toUpperCase().includes("\u05e1\u05e0\u05d9\u05d5\u05e8")||d.toUpperCase().includes("\u05e0\u05e9\u05d9\u05dd")?a+('<td class="rnk_font pinkCat" aria-label="'+
d+'">'+l+"</td>\n"):a+('<td class="rnk_font highlight" aria-label="'+d+'">'+l+"</td>\n"):"no"==useCategory?a+('<td class="rnk_font highlight" aria-label="'+d+'">'+l+"</td>\n"):a+('<td class="rnk_font highlight">'+l+"</td>\n");a+='<td class="rnk_font">'+c[b].Id_Nom+"</td>\n";1==f&&0==w&&(a="undefined"!=typeof c[b].Id_NbTour?1==c[b].Id_NbTour_Penalty?a+('<td class="rnk_font penalty">P '+c[b].Id_NbTour+"</td>\n"):a+('<td class="rnk_font">'+c[b].Id_NbTour+"</td>\n"):a+'<td class="rnk_font">-</td>\n');
if(1==e&&c[b].Id_lap1)for(d=1;d<=y;d++)a=1==h&&c[b]["Id_lap"+d]==B&&c[b].Id_Numero==D?a+('<td class="rnk_font BestTimeOverall">'+c[b]["Id_lap"+d]+"</td>\n"):1==h&&"-"!=c[b]["Id_lap"+d]&&c[b]["Id_lap"+d]==c[b].Id_MeilleurTour?a+('<td class="rnk_font BestTime">'+c[b]["Id_lap"+d]+"</td>\n"):a+('<td class="rnk_font">'+c[b]["Id_lap"+d]+"</td>\n");else"1"!=cleanResults&&(a+='<td class="rnk_font'+z[k]+'">'+c[b].Id_TpsTour+"</td>\n"),a+='<td class="rnk_font">'+c[b].Id_MeilleurTour+"</td>\n";tickerBestTime!=
c[b].Id_TpsTour&&" BestTimeOverall"==z[k]&&"???"!=c[b].Id_Nom&&(tickerBestTime=c[b].Id_TpsTour,"0"==firstPass&&ticker.push(r+" - "+c[b].Id_Nom+" ("+c[b].Id_Numero+") \u05d4\u05e7\u05e4\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4 - "+tickerBestTime));0==v&&0==w&&("undefined"!=typeof c[b].Id_TpsCumule?1==c[b].Id_TpsCumule_Penalty&&"undefined"!=typeof c[b].Id_PenaliteTpsCumule&&"-"!=c[b].Id_PenaliteTpsCumule?(c[b].Id_PenaliteTpsCumule.includes(".000")&&(c[b].Id_PenaliteTpsCumule=c[b].Id_PenaliteTpsCumule.replace(".000",
"")),a+='<td class="rnk_font penalty" aria-label="\u05e2\u05d5\u05e0\u05e9\u05d9\u05df: '+c[b].Id_PenaliteTpsCumule+'">P '+c[b].Id_TpsCumule+"</td>\n"):a=1==c[b].Id_TpsCumule_Penalty?a+('<td class="rnk_font penalty">P '+c[b].Id_TpsCumule+"</td>\n"):a+('<td class="rnk_font">'+c[b].Id_TpsCumule+"</td>\n"):a+='<td class="rnk_font">-</td>\n');"yes"==useCategory?a+='<td class="rnk_font">'+c[b].Id_Ecart1erCategorie+"</td>\n":"no"==useCategory&&(a+='<td class="rnk_font">'+c[b].Id_Ecart1er+"</td>\n");a+=
"</tr>\n"}"yes"==useCategory&&1==h&&"-"!=q[p][1]&&"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05db\u05dc\u05dc\u05d9\u05ea"!=p&&"&nbsp;"!=p&&(d=ms2TimeString(Number(q[p][0])),"00:"==d.toString().substring(0,3)&&(d=d.substr(3)),"0"==d.toString().substring(0,1)&&d.includes(":")&&(d=d.substr(1)),a+='<tr><td colspan="99" class="comment_font">\u05d4\u05e7\u05e4\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4: ('+q[p][1]+") "+q[p][2]+" - "+d+"</td></tr>\n");a+="</table>\n</div>\n";if(1<Object.keys(categoryBestTimePrevious).length&&
1<Object.keys(q).length)for(var x in q)q[x][0]!=categoryBestTimePrevious[x][0]&&"&nbsp;"!=x&&"???"!=q[x][2]&&(d=ms2TimeString(Number(q[x][0])),"00:"==d.toString().substring(0,3)&&(d=d.substr(3)),"0"==d.toString().substring(0,1)&&d.includes(":")&&(d=d.substr(1)),ticker.push(r+" - "+q[x][2]+" ("+q[x][1]+") \u05d4\u05e7\u05e4\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4 \u05d1\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 "+x+' - <span dir="ltr">'+d+"</span>"));categoryBestTimePrevious=q;tableClass="";if(document.getElementById("tickerTest"))if(e=
"",0<ticker.length){e+="<ul>";for(f=0;f<ticker.length;f++)e+="<li>"+ticker[f]+"</li>";e+="</ul>";document.getElementById("tickerTest").innerHTML=e;ticker.shift()}else document.getElementById("tickerTest").innerHTML="&nbsp;";sessionStorage.setItem("doNotShowInTicker",JSON.stringify(doNotShowInTicker));sessionStorage.setItem("ticker",JSON.stringify(ticker));sessionStorage.setItem("flag",flag);sessionStorage.setItem("tickerBestTime",tickerBestTime);sessionStorage.setItem("categoryBestTimePrevious",JSON.stringify(categoryBestTimePrevious));
firstPass="0";return a}function timeString2ms(a){a=a.split(".");var e=1*a[1]||0;a=a[0].split(":");return e+1E3*(a[2]?3600*a[0]+60*a[1]+1*a[2]:a[1]?60*a[0]+1*a[1]:1*a[0])}function ms2TimeString(a){var e=a%1E3,f=a/1E3%60|0,h=a/6E4%60|0;a=a/36E5%24|0;return(a?(10>a?"0"+a:a)+":":"")+(10>h?0:"")+h+":"+(10>f?0:"")+f+"."+(100>e?10>e?"00":0:"")+e};
