var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var d=0;return function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var d="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return d?d.call(a):$jscomp.arrayIterator(a)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,g){a!=Array.prototype&&a!=Object.prototype&&(a[d]=g.value)};
$jscomp.polyfill=function(a,d,g,l){if(d){g=$jscomp.global;a=a.split(".");for(l=0;l<a.length-1;l++){var m=a[l];m in g||(g[m]={});g=g[m]}a=a[a.length-1];l=g[a];d=d(l);d!=l&&null!=d&&$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:d})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function d(){this.batch_=null}function g(a){return a instanceof m?a:new m(function(d,g){d(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;d.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};d.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var l=$jscomp.global.setTimeout;d.prototype.asyncExecuteFunction=function(a){l(a,
0)};d.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var d=0;d<a.length;++d){var g=a[d];a[d]=null;try{g()}catch(h){this.asyncThrow_(h)}}}this.batch_=null};d.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var m=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var d=this.createResolveAndReject_();try{a(d.resolve,d.reject)}catch(w){d.reject(w)}};m.prototype.createResolveAndReject_=
function(){function a(a){return function(e){g||(g=!0,a.call(d,e))}}var d=this,g=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};m.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof m)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var d=null!=a;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};m.prototype.resolveToNonPromiseObj_=function(a){var d=
void 0;try{d=a.then}catch(w){this.reject_(w);return}"function"==typeof d?this.settleSameAsThenable_(d,a):this.fulfill_(a)};m.prototype.reject_=function(a){this.settle_(2,a)};m.prototype.fulfill_=function(a){this.settle_(1,a)};m.prototype.settle_=function(a,d){if(0!=this.state_)throw Error("Cannot settle("+a+", "+d+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=d;this.executeOnSettledCallbacks_()};m.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
0;a<this.onSettledCallbacks_.length;++a)t.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var t=new d;m.prototype.settleSameAsPromise_=function(a){var d=this.createResolveAndReject_();a.callWhenSettled_(d.resolve,d.reject)};m.prototype.settleSameAsThenable_=function(a,d){var g=this.createResolveAndReject_();try{a.call(d,g.resolve,g.reject)}catch(h){g.reject(h)}};m.prototype.then=function(a,d){function g(a,d){return"function"==typeof a?function(b){try{h(a(b))}catch(E){e(E)}}:
d}var h,e,k=new m(function(a,d){h=a;e=d});this.callWhenSettled_(g(a,h),g(d,e));return k};m.prototype.catch=function(a){return this.then(void 0,a)};m.prototype.callWhenSettled_=function(a,d){function g(){switch(h.state_){case 1:a(h.result_);break;case 2:d(h.result_);break;default:throw Error("Unexpected state: "+h.state_);}}var h=this;null==this.onSettledCallbacks_?t.asyncExecute(g):this.onSettledCallbacks_.push(g)};m.resolve=g;m.reject=function(a){return new m(function(d,g){g(a)})};m.race=function(a){return new m(function(d,
l){for(var h=$jscomp.makeIterator(a),e=h.next();!e.done;e=h.next())g(e.value).callWhenSettled_(d,l)})};m.all=function(a){var d=$jscomp.makeIterator(a),l=d.next();return l.done?g([]):new m(function(a,e){function h(c){return function(d){b[c]=d;f--;0==f&&a(b)}}var b=[],f=0;do b.push(void 0),f++,g(l.value).callWhenSettled_(h(b.length-1),e),l=d.next();while(!l.done)})};return m},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},d={};try{return d.__proto__=a,d.a}catch(g){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,d){a.__proto__=d;if(a.__proto__!==d)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,d){this.nextAddress=d;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,d){a=$jscomp.makeIterator(a);var g=a.next();$jscomp.generator.ensureIteratorResultIsObject_(g);if(g.done)this.yieldResult=g.value,this.nextAddress=d;else return this.yieldAllIterator_=a,this.yield(g.value,d)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,d){this.catchAddress_=a;void 0!=d&&(this.finallyAddress_=d)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,d){this.nextAddress=a;this.catchAddress_=d||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,d,g){g?this.finallyContexts_[g]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=d||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,d){d=this.finallyContexts_.splice(d||0)[0];if(d=this.abruptCompletion_=this.abruptCompletion_||d){if(d.isException)return this.jumpToErrorHandler_();void 0!=d.jumpTo&&this.finallyAddress_<d.jumpTo?(this.nextAddress=d.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var d in a)this.properties_.push(d);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var d=this.context_.yieldAllIterator_;if(d)return this.yieldAllStep_("return"in d?d["return"]:function(a){return{value:a,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,d,g){try{var l=a.call(this.context_.yieldAllIterator_,d);$jscomp.generator.ensureIteratorResultIsObject_(l);if(!l.done)return this.context_.stop_(),l;var m=l.value}catch(t){return this.context_.yieldAllIterator_=null,this.context_.throw_(t),this.nextStep_()}this.context_.yieldAllIterator_=null;g.call(this.context_,m);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(d){this.context_.yieldResult=void 0,this.context_.throw_(d)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(d){return a.next_(d)};this.throw=function(d){return a.throw_(d)};this.return=function(d){return a.return_(d)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,d){d=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(d));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(d,a.prototype);return d};
$jscomp.asyncExecutePromiseGenerator=function(a){function d(d){return a.next(d)}function g(d){return a.throw(d)}return new Promise(function(l,m){function t(a){a.done?l(a.value):Promise.resolve(a.value).then(d,g).then(t,m)}t(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,g){return a===g?0!==a||1/a===1/g:a!==a&&g!==g}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,g){var d=this;d instanceof String&&(d=String(d));var m=d.length;g=g||0;for(0>g&&(g=Math.max(g+m,0));g<m;g++){var t=d[g];if(t===a||Object.is(t,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,d,g){if(null==a)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,g){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,g||0)}},"es6","es3");
$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var g=0,l={next:function(){if(g<a.length){var m=g++;return{value:d(m,a[m]),done:!1}}l.next=function(){return{done:!0,value:void 0}};return l.next()}};l[Symbol.iterator]=function(){return l};return l};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
var cleanResults=0,harescrambleFinishE=72E5,harescrambleFinishC=54E5,harescrambleFinishBeginers=36E5,TimerLoad,TimerChange,MaxNum,Rafraichir,Changement,ClassementReduit,ClassementReduitXpremier,UrlRefresh,UrlChange;Rafraichir=1E4;Changement=6E4;ClassementReduit=MaxNum=1;ClassementReduitXpremier=10;var positionArrayAll={},positionArrayCat={};sessionStorage.getItem("positionArrayAll")&&(positionArrayAll=JSON.parse(sessionStorage.getItem("positionArrayAll")));
sessionStorage.getItem("positionArrayCat")&&(positionArrayCat=JSON.parse(sessionStorage.getItem("positionArrayCat")));var lapsArray=[],useCategory="yes",categoryBestTimePrevious={};sessionStorage.getItem("categoryBestTimePrevious")&&(categoryBestTimePrevious=JSON.parse(sessionStorage.getItem("categoryBestTimePrevious")));var ticker=[];sessionStorage.getItem("ticker")&&(ticker=JSON.parse(sessionStorage.getItem("ticker")));var firstPlace="",firstPass=1,tickerBestTime="-";
sessionStorage.getItem("tickerBestTime")&&(tickerBestTime=sessionStorage.getItem("tickerBestTime"));var eventName="";sessionStorage.getItem("eventName")&&(eventName=sessionStorage.getItem("eventName"));var flag="";sessionStorage.getItem("flag")&&(flag=sessionStorage.getItem("flag"));var doNotShowInTicker=[];sessionStorage.getItem("doNotShowInTicker")&&(doNotShowInTicker=JSON.parse(sessionStorage.getItem("doNotShowInTicker")));sessionStorage.getItem("useCategory")&&(useCategory=sessionStorage.getItem("useCategory"));
var tableClass="fadeIn ";function category(a){useCategory=a;"yes"==useCategory?sessionStorage.setItem("useCategory","yes"):"no"==useCategory&&sessionStorage.setItem("useCategory","no");tableClass="fadeIn ";Load("p1.html","result")}
function Load(a,d){var g,l,m,t,B,x,w,h,e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){switch(k.nextAddress){case 1:TimerLoad&&clearTimeout(TimerLoad);"yes"==useCategory?(document.getElementById("displayCatButton").style.display="none",document.getElementById("displayAllButton").style.display="block"):"no"==useCategory&&(document.getElementById("displayCatButton").style.display="block",document.getElementById("displayAllButton").style.display="none");if(!self.fetch){l=new XMLHttpRequest;
l.onreadystatechange=function(){4==l.readyState&&200==l.status&&(document.getElementById("categoryOrAll").style.display="block",document.getElementById("center1").style.display="block",document.getElementById(d).innerHTML=createLiveTable(l.responseText),alignTable())};l.open("GET",a+(/\?/.test(a)?"&":"?")+(new Date).getTime(),!0);l.send(null);populatePre("uploadMsg.txt","updates");k.jumpTo(2);break}k.setCatchFinallyBlocks(3);return k.yield(fetch(a,{cache:"no-store"}),5);case 5:m=k.yieldResult;if(!m.ok){k.jumpTo(6);
break}document.getElementById("categoryOrAll").style.display="block";document.getElementById("center1").style.display="block";t=document.getElementById(d);B=createLiveTable;return k.yield(m.text(),7);case 7:t.innerHTML=B(k.yieldResult),alignTable();case 6:k.leaveTryBlock(4);break;case 3:x=k.enterCatchBlock(),console.log("results fetch failed",x);case 4:return k.setCatchFinallyBlocks(8),k.yield(fetch("uploadMsg.txt",{cache:"no-store"}),10);case 10:w=k.yieldResult;if(!w.ok){k.jumpTo(11);break}h=document.getElementById("updates");
return k.yield(w.text(),12);case 12:h.innerHTML=k.yieldResult;case 11:k.leaveTryBlock(2);break;case 8:e=k.enterCatchBlock(),console.log("msg fetch failed",e);case 2:g=function(){Load(a,d)},TimerLoad=setTimeout(g,Rafraichir),Rafraichir=3E4,k.jumpToEnd()}})}function populatePre(a,d){var g=new XMLHttpRequest;g.onreadystatechange=function(){4==g.readyState&&200==g.status&&(document.getElementById(d).innerHTML=g.responseText)};g.open("GET",a,!0);g.send()}
function createLiveTable(a){var d=0,g=1,l=1,m=0,t=0,B=0,x=0,w=0,h,e;var k=e=k=0;var b=[];var f=[];var c=[],E=0,H="99999999999",C="99999999999",F=[],r="&nbsp;";e=h=0;var n="";var D=6,G=6,A=0,y=1,I=0,J=[],K="",L="",M="";a=a.split("<table");a[1]=a[1].substring(a[1].indexOf("<tr"),a[1].lastIndexOf("</tr>")+5);n=a[1].split("\n");var p=a[0].split("\n"),u=document.createElement("div");u.innerHTML=p[0];k=u.textContent||u.innerText||"";y=k.split("-")[1].trim();u=p[1].split(":");u=("0"+u[0].slice(-2).trim()).slice(-2)+
":"+u[1];var q={};eventName!=k&&(doNotShowInTicker=[],ticker=[],firstPlace=flag="",tickerBestTime="-",categoryBestTimePrevious={},positionArrayAll={},positionArrayCat={});eventName=k;sessionStorage.setItem("eventName",eventName);a[0].includes("_GreenFlag")?(0==firstPass&&"green"!=flag&&ticker.push(u+" - \u05d6\u05d9\u05e0\u05d5\u05e7/\u05d3\u05d2\u05dc \u05d9\u05e8\u05d5\u05e7 "+y),flag="green"):a[0].includes("_CheckeredFlag")?(0==firstPass&&"checkered"!=flag&&ticker.push(u+" - \u05e1\u05d9\u05d5\u05dd "+
y),flag="checkered"):a[0].includes("_Stop")?(0==firstPass&&"checkered"!=flag&&ticker.push(u+" - \u05e1\u05d9\u05d5\u05dd"),flag="checkered"):a[0].includes("_RedFlag")?(0==firstPass&&"red"!=flag&&ticker.push(u+" - \u05d3\u05d2\u05dc \u05d0\u05d3\u05d5\u05dd"),flag="red"):a[0].includes("_YellowFlag")?(0==firstPass&&"yellow"!=flag&&ticker.push(u+" - \u05d3\u05d2\u05dc \u05e6\u05d4\u05d5\u05d1"),flag="yellow"):flag="";if(p[0].includes("\u05d8\u05e1\u05d8")||p[0].includes("\u05e1\u05e4\u05d9\u05d9\u05e9\u05dc"))d=
t=1,g=0;if(p[0].includes("\u05e1\u05e7\u05e8\u05de\u05d1\u05dc")||p[0].includes("\u05d4\u05d9\u05d9\u05e8"))B=1;p[0].includes("\u05e8\u05d0\u05dc\u05d9")&&p[0].includes("\u05e1\u05e4\u05e8\u05d9\u05e0\u05d8")&&(x=1,l=0);/\d+laps/.test(p[0])&&(A=/\d+laps/.exec(p[0]),A=Number(A[0].substring(0,A[0].length-4)),d=1,g=0,G=D=A,t=0,k=k.replace(A+"laps",""));if(p[0].includes("\u05d3\u05d9\u05e8\u05d5\u05d2")||p[0].includes("\u05d3\u05e8\u05d5\u05d2"))w=1,l=0;p[0].includes("+++")?(cleanResults=1,k=k.replace("+++",
"")):cleanResults=0;p[0].includes("copilot")&&(m=1,k=k.replace("copilot",""));p[0].includes("nobestlap")&&(l=0,k=k.replace("nobestlap",""));a=p[0].match(/Images\/\s*(.*?)\s*\.png/);a='<div id="Title"><img class="TitleFlag1" src="'+a[0]+'"><h1 id="TitleH1">'+k.replace(" - ","<br>")+'</h1><img class="TitleFlag2" src="'+a[0]+'"></div>';a+=p[1];for(k=0;k<n.length;k++)if(n[k].includes('<td id="Id_'))y=n[k].substring(n[k].indexOf(' id="')+4).split('"')[1],n[k].substring(n[k].indexOf(">")+1,n[k].lastIndexOf("<")),
b.push(y);else if(n[k].includes("OddRow")||n[k].includes("EvenRow"))h=1;else if(n[k].includes("</tr>")&&1==h)h=0,1==f.Id_TpsCumule_Penalty&&(J[f.Id_Categorie]=1),"undefined"==typeof q[f.Id_Categorie]&&(q[f.Id_Categorie]=[Number(99999999),"-","-"]),q[f.Id_Categorie][0]>timeString2ms(f.Id_MeilleurTour)&&"-"!=f.Id_MeilleurTour&&"&nbsp;"!=f.Id_Categorie&&(q[f.Id_Categorie]=[Number(timeString2ms(f.Id_MeilleurTour)),f.Id_Numero,f.Id_Nom]),C>timeString2ms(f.Id_MeilleurTour)&&(C=timeString2ms(f.Id_MeilleurTour)),
c.push(f),f=[],e=0;else if(n[k].includes("<td ")&&1==h){y=0;n[k].includes("(C)")&&(I=y=1);if("Id_Position"==b[e]||"Id_NbTour"==b[e]||"Id_TpsCumule"==b[e])f[b[e]+"_Penalty"]=1==y?1:0;if("Id_Ecart1erCategorie"==b[e]||"Id_Ecart1er"==b[e])n[k]=n[k].replace(">1 \u05d4\u05e7\u05e4\u05d5\u05ea<",">1 \u05d4\u05e7\u05e4\u05d4<");f[b[e]]="undefined"!=typeof n[k]&&1==cleanResults?n[k].substring(n[k].indexOf(">")+1,n[k].lastIndexOf("<")).replace("(C) ",""):"undefined"!=typeof n[k]?n[k].substring(n[k].indexOf(">")+
1,n[k].lastIndexOf("<")).replace("(C) ",""):"-";n[k].includes("BestTimeOverall")&&"Id_TpsTour"==b[e]?F[f.Id_Numero]=" BestTimeOverall":n[k].includes("BestTime")&&"Id_TpsTour"==b[e]?F[f.Id_Numero]=" BestTime":"Id_TpsTour"==b[e]&&(F[f.Id_Numero]="");"Id_Categorie"!=b[e]||"-"!=f[b[e]]&&""!=f[b[e]]&&"&nbsp;"!=f[b[e]]&&"undefined"!=typeof f[b[e]]||(f[b[e]]="&nbsp;");1==d&&/Id_TpsTour\d+/.test(b[e])&&"-"!=f[b[e]]&&timeString2ms(f[b[e]])<=timeString2ms(H)&&(H=f[b[e]],E=f.Id_Numero);e+=1}"yes"==useCategory&&
p[0].includes("\u05d0\u05e0\u05d3\u05d5\u05e8\u05d5")?c.sort(function(a,b){return("&nbsp;"==a.Id_Categorie)-("&nbsp;"==b.Id_Categorie)||b.Id_Categorie.includes("\u05de\u05e7\u05e6\u05d5\u05e2\u05d9\u05ea")-a.Id_Categorie.includes("\u05de\u05e7\u05e6\u05d5\u05e2\u05d9\u05ea")||b.Id_Categorie.includes("\u05e2\u05de\u05de\u05d9\u05ea")-a.Id_Categorie.includes("\u05e2\u05de\u05de\u05d9\u05ea")||b.Id_Categorie.includes("\u05e1\u05e0\u05d9\u05d5\u05e8\u05d9\u05dd")-a.Id_Categorie.includes("\u05e1\u05e0\u05d9\u05d5\u05e8\u05d9\u05dd")||
a.Id_Categorie.localeCompare(b.Id_Categorie)||a.Id_PositionCategorie-b.Id_PositionCategorie}):"yes"==useCategory&&c.sort(function(a,b){return("&nbsp;"==a.Id_Categorie)-("&nbsp;"==b.Id_Categorie)||a.Id_Categorie.localeCompare(b.Id_Categorie)||a.Id_PositionCategorie-b.Id_PositionCategorie});a="no"==useCategory?a+('\n<div id="liveTable"><table class="'+tableClass+'line_color">\n'):a+'\n<div id="liveTable">\n';for(b=0;b<c.length;b++){"no"==useCategory&&"-"!=c[b].Id_Ecart1er&&("00:"==c[b].Id_Ecart1er.toString().substring(0,
3)&&(c[b].Id_Ecart1er=c[b].Id_Ecart1er.substr(3)),"0"==c[b].Id_Ecart1er.toString().substring(0,1)&&c[b].Id_Ecart1er.includes(":")&&(c[b].Id_Ecart1er=c[b].Id_Ecart1er.substr(1)));"yes"==useCategory&&"-"!=c[b].Id_Ecart1erCategorie&&("00:"==c[b].Id_Ecart1erCategorie.toString().substring(0,3)&&(c[b].Id_Ecart1erCategorie=c[b].Id_Ecart1erCategorie.substr(3)),"0"==c[b].Id_Ecart1erCategorie.toString().substring(0,1)&&c[b].Id_Ecart1erCategorie.includes(":")&&(c[b].Id_Ecart1erCategorie=c[b].Id_Ecart1erCategorie.substr(1)));
"undefined"!=typeof c[b].Id_TpsCumule&&"-"!=c[b].Id_TpsCumule&&("00:"==c[b].Id_TpsCumule.toString().substring(0,3)&&(c[b].Id_TpsCumule=c[b].Id_TpsCumule.substr(3)),"0"==c[b].Id_TpsCumule.toString().substring(0,1)&&c[b].Id_TpsCumule.includes(":")&&(c[b].Id_TpsCumule=c[b].Id_TpsCumule.substr(1)),c[b].Id_TpsCumule=c[b].Id_TpsCumule.replace(" 00:"," "));if(c[b].Id_TpsTour1&&1==d)for(h=f=D;-1<h;h--)if(c[b]["Id_TpsTour"+h]&&"-"!=c[b]["Id_TpsTour"+h]||0==h){e=h;for(h=1;h<=f;h++)c[b]["Id_lap"+h]=0<e?c[b]["Id_TpsTour"+
e]:"-",e--;h=-1}1==t&&"yes"==useCategory&&0==A&&(G=c[b].Id_Categorie.includes("\u05de\u05e7\u05e6\u05d5\u05e2\u05d9\u05ea")?6:c[b].Id_Categorie.includes("\u05e1\u05e0\u05d9\u05d5\u05e8\u05d9\u05dd")||c[b].Id_Categorie.includes("\u05e2\u05de\u05de\u05d9\u05ea")||c[b].Id_Categorie.includes("\u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8 \u05de\u05e7\u05e6\u05d5\u05e2\u05d9")?5:c[b].Id_Categorie.includes("\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd")||c[b].Id_Categorie.includes("\u05e1\u05d5\u05e4\u05e8 \u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8")?
4:6);f=1==cleanResults?"":" slim";if(1==c[b].Id_Position&&"no"==useCategory||1==c[b].Id_PositionCategorie&&"yes"==useCategory){var v='<tr class="rnkh_bkcolor">\n';v=0==cleanResults?v+'<th colspan = "2" class="rnkh_font">&nbsp;&nbsp;\u05de\u05e7\u05d5\u05dd&nbsp;&nbsp;</th>\n':v+'<th class="rnkh_font">\u05de\u05e7\u05d5\u05dd</th>\n';v+='<th class="rnkh_font">\u05de\u05e1\u05e4\u05e8</th>\n';1==m&&"undefined"!=typeof c[b].Id_Licence?c[b].Id_Categorie.includes("\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2\u05d9\u05dd")&&
"yes"==useCategory?v+='<th class="rnkh_font">\u05e9\u05dd</th>\n':(v+='<th class="rnkh_font">\u05e0\u05d4\u05d2</th>\n',v+='<th class="rnkh_font">\u05e0\u05d5\u05d5\u05d8</th>\n'):v+='<th class="rnkh_font">\u05e9\u05dd</th>\n';1==g&&0==x&&(v+='<th class="rnkh_font">\u05d4\u05e7\u05e4\u05d5\u05ea</th>\n');if(1==d&&c[b].Id_lap1)for(h=1;h<=G;h++)v+='<th class="rnkh_font">\u05d4\u05e7\u05e4\u05d4 '+h+"</th>\n";else 0==cleanResults&&(v+='<th class="rnkh_font">\u05d4\u05e7\u05e4\u05d4 \u05d0\u05d7\u05e8\u05d5\u05e0\u05d4</th>\n'),
v+='<th class="rnkh_font">\u05d4\u05e7\u05e4\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4</th>\n';0==w&&0==x&&(v+='<th class="rnkh_font">\u05d6\u05de\u05df</th>\n');1==cleanResults&&(1==I&&"no"==useCategory||1==J[c[b].Id_Categorie]&&"yes"==useCategory)&&(v+='<th class="rnkh_font">\u05e2\u05d5\u05e0\u05e9\u05d9\u05df</th>\n');"yes"==useCategory?v+='<th class="rnkh_font">\u05e4\u05e2\u05e8</th>\n':"no"==useCategory&&(v+='<th class="rnkh_font">\u05e4\u05e2\u05e8</th>\n');v+="</tr>"}1==c[b].Id_Position&&(1==
firstPass&&(p[0].includes("_GreenFlag")||p[0].includes("_CheckeredFlag"))&&(firstPlace=c[b].Id_Numero),firstPlace!=c[b].Id_Numero&&0<c[b].Id_NbTour&&(p[0].includes("_GreenFlag")||p[0].includes("_CheckeredFlag"))&&(firstPlace=c[b].Id_Numero));e=c[b].Id_Numero;k=0;c[b].Id_Arrow="&#9670;";h="";c[b].Id_Image.includes("_Status10")?(c[b].Id_Arrow='<img class="dnsfq" src="Images/_dsq.svg" alt="dsq">',h="\u05e0\u05e4\u05e1\u05dc",doNotShowInTicker.includes(c[b].Id_Numero)||(ticker.push(u+" - "+c[b].Id_Nom+
" ("+c[b].Id_Numero+") \u05e0\u05e4\u05e1\u05dc"),doNotShowInTicker.push(c[b].Id_Numero))):c[b].Id_Image.includes("_Status11")||"_Status1"==c[b].Id_Image?(c[b].Id_Arrow='<img class="dnsfq" src="Images/_dnf.svg" alt="dnf">',h="\u05dc\u05d0 \u05e1\u05d9\u05d9\u05dd",doNotShowInTicker.includes(c[b].Id_Numero)||(ticker.push(u+" - "+c[b].Id_Nom+" ("+c[b].Id_Numero+") \u05e4\u05e8\u05e9"),doNotShowInTicker.push(c[b].Id_Numero))):c[b].Id_Image.includes("_Status12")?(c[b].Id_Arrow='<img class="dnsfq" src="Images/_dns.svg" alt="dns">',
h="\u05dc\u05d0 \u05d4\u05ea\u05d7\u05d9\u05dc"):c[b].Id_Image.includes("_Status2")?(c[b].Id_Arrow='<img class="dnsfq" src="Images/_nq.svg" alt="nq">',h="\u05dc\u05dc\u05d0 \u05d3\u05d9\u05e8\u05d5\u05d2"):c[b].Id_Image.includes("_Status")?c[b].Id_Arrow='<img class="dnsfq" src="Images/_status.svg" alt="status">':c[b].Id_Arrow="&#9670;";c[b].Id_Position&&"no"==useCategory&&(k=Number(c[b].Id_Position));c[b].Id_PositionCategorie&&"yes"==useCategory&&(k=Number(c[b].Id_PositionCategorie));n="";0==c[b].Id_NbTour&&
(positionArrayAll[e]="999",positionArrayCat[e]="999");if(0<k&&0<=e&&("-"!=c[b].Id_TpsTour||0<c[b].Id_NbTour||c[b].Id_Image.includes("_TrackPassing"))&&(0<c[b].Id_NbTour||1==w&&"-"!=c[b].Id_TpsTour))if(positionArrayAll[e]&&"no"==useCategory&&positionArrayAll[e]<k||positionArrayCat[e]&&"yes"==useCategory&&positionArrayCat[e]<k)c[b].Id_Arrow='<img class="postionChanged" src="Images/_MinusPosition.svg" alt="lost places">',n="lostPosition ";else if(positionArrayAll[e]&&"no"==useCategory&&positionArrayAll[e]>
k||positionArrayCat[e]&&"yes"==useCategory&&positionArrayCat[e]>k)c[b].Id_Arrow='<img class="postionChanged" src="Images/_PlusPosition.svg" alt="gained places">',n="gainedPosition ";1<Object.keys(q).length&&positionArrayAll[e]&&positionArrayCat[e]?(3>=c[b].Id_Position&&c[b].Id_Position<positionArrayAll[e]&&"???"!=c[b].Id_Nom&&0<c[b].Id_NbTour&&ticker.push(u+" - "+c[b].Id_Nom+" ("+c[b].Id_Numero+") \u05e2\u05dc\u05d4 \u05dc\u05de\u05e7\u05d5\u05dd "+c[b].Id_Position+" \u05db\u05dc\u05dc\u05d9"),3>=
c[b].Id_PositionCategorie&&c[b].Id_PositionCategorie<positionArrayCat[e]&&"???"!=c[b].Id_Nom&&0<c[b].Id_NbTour&&"undefined"!=c[b].Id_Categorie&&"&nbsp;"!=c[b].Id_Categorie&&ticker.push(u+" - "+c[b].Id_Nom+" ("+c[b].Id_Numero+") \u05e2\u05dc\u05d4 \u05dc\u05de\u05e7\u05d5\u05dd "+c[b].Id_PositionCategorie+" \u05d1\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 "+c[b].Id_Categorie)):3>=c[b].Id_Position&&c[b].Id_Position<positionArrayAll[e]&&"???"!=c[b].Id_Nom&&0<c[b].Id_NbTour&&ticker.push(u+" - "+c[b].Id_Nom+
" ("+c[b].Id_Numero+") \u05e2\u05dc\u05d4 \u05dc\u05de\u05e7\u05d5\u05dd "+c[b].Id_Position);positionArrayAll[e]=c[b].Id_Position;positionArrayCat[e]=c[b].Id_PositionCategorie;c[b].Id_NbTour&&(k=c[b].Id_NbTour,k!=lapsArray[e]&&""==n&&0==firstPass&&(n="unChanged "),lapsArray[e]=k);""!=n&&"unChanged "!=n||!c[b].Id_Image.includes("_TrackPassing")&&"1"!=c[b].Id_Canal||c[b].Id_Image.includes("_Status")||(c[b].Id_Arrow='<img class="postionSame" src="Images/_TrackPassing.svg" alt="same places">');"1"==c[b].Id_PositionCategorie&&
"yes"==useCategory?("&nbsp;"!=r&&"undefined"!=typeof q[r][1]&&1==l&&"&nbsp;"!=r&&"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05db\u05dc\u05dc\u05d9\u05ea"!=r&&"-"!=q[r][1]&&(e=ms2TimeString(Number(q[r][0])),"00:"==e.toString().substring(0,3)&&(e=e.substr(3)),"0"==e.toString().substring(0,1)&&e.includes(":")&&(e=e.substr(1)),a+='<tr><td colspan="99" class="comment_font">\u05d4\u05e7\u05e4\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4: ('+q[r][1]+") "+q[r][2]+" - "+e+"</td></tr>\n"),r=c[b].Id_Categorie,a+=
'<table class="'+tableClass+'line_color">\n<tr><td colspan="99" class="title_font">'+c[b].Id_Categorie+"</td></tr>"+v+"\n"):1==c[b].Id_Position&&"no"==useCategory&&(a+='<tr><td colspan="99" class="title_font">\u05db\u05dc\u05dc\u05d9</td></tr>'+v+"\n");!c[b].Id_Image.includes("_Status11")&&"_Status1"!=c[b].Id_Image||"yes"!=useCategory||K==r||1!=cleanResults?c[b].Id_Image.includes("_Status10")&&"yes"==useCategory&&M!=r&&1==cleanResults?(a+='<tr><td colspan="99" class="subtitle_font">\u05e0\u05e4\u05e1\u05dc - DSQ</td></tr>\n',
M=r):c[b].Id_Image.includes("_Status12")&&"yes"==useCategory&&L!=r&&1==cleanResults&&(a+='<tr><td colspan="99" class="subtitle_font">\u05dc\u05d0 \u05d4\u05ea\u05d7\u05d9\u05dc - DNS</td></tr>\n',L=r):(a+='<tr><td colspan="99" class="subtitle_font">\u05dc\u05d0 \u05e1\u05d9\u05d9\u05dd - DNF</td></tr>\n',K=r);1==cleanResults&&(n="");a=0==b%2?a+('<tr class="'+n+'rnk_bkcolor OddRow">\n'):a+('<tr class="'+n+'rnk_bkcolor EvenRow">\n');e=0;1==B&&(e=c[b].Id_Categorie.toUpperCase().includes("E")&&timeString2ms(c[b].Id_TpsCumule)>=
harescrambleFinishE?1:c[b].Id_Categorie.toUpperCase().includes("\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd")&&timeString2ms(c[b].Id_TpsCumule)>=harescrambleFinishBeginers?1:(c[b].Id_Categorie.toUpperCase().includes("\u05e2\u05de\u05de\u05d9\u05ea")||c[b].Id_Categorie.toUpperCase().includes("\u05e1\u05e0\u05d9\u05d5\u05e8\u05d9\u05dd")||c[b].Id_Categorie.toUpperCase().includes("\u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8")&&c[b].Id_Categorie.toUpperCase().includes("\u05de\u05e7\u05e6\u05d5\u05e2\u05d9"))&&
timeString2ms(c[b].Id_TpsCumule)>=harescrambleFinishC?1:0);e=c[b].Id_Image.includes("_CheckeredFlag")||!c[b].Id_Image.includes("_Status")&&1==d&&(c[b].Id_Image.includes("_CheckeredFlag")||c[b].Id_NbTour==D||1==t&&c[b].Id_NbTour==D-2&&c[b].Id_Categorie.includes("\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd")||1==t&&c[b].Id_NbTour==D-1&&!c[b].Id_Categorie.toUpperCase().includes("E"))?"finished ":c[b].Id_Image.includes("_Status")||1!=e?"":"finished ";0==cleanResults&&(a=c[b].Id_Arrow.includes("dnsfq")?
a+('<td aria-label="'+h+'" class="rnk_font dnsfq'+f+'">'+c[b].Id_Arrow+"</td>\n"):c[b].Id_Arrow.includes("_MinusPosition")?a+('<td class="'+e+"rnk_font red"+f+'">'+c[b].Id_Arrow+"</td>\n"):c[b].Id_Arrow.includes("_PlusPosition")?a+('<td class="'+e+"rnk_font green"+f+'">'+c[b].Id_Arrow+"</td>\n"):"finished "==e?a+('<td aria-label="\u05e1\u05d9\u05d9\u05dd" class="rnk_font finished black'+f+'"></td>\n'):c[b].Id_Arrow.includes("_TrackPassing")?a+('<td aria-label="\u05e2\u05dc \u05d4\u05de\u05e1\u05dc\u05d5\u05dc" class="rnk_font black fadeIn'+
f+'">'+c[b].Id_Arrow+"</td>\n"):"P"==c[b].Id_Arrow?a+('<td class="rnk_font black fadeIn'+f+'">P</td>\n'):"&#9670;"==c[b].Id_Arrow?a+('<td class="rnk_font white scale'+f+'">&#9670;</td>\n'):a+('<td class="rnk_font orange'+f+'">'+c[b].Id_Arrow+"</td>\n"));"yes"==useCategory?a=c[b].Id_Image.includes("_Status")||"-"==c[b].Id_TpsTour||0==c[b].Id_NbTour||"-"==c[b].Id_NbTour||1==w&&"-"==c[b].Id_TpsTour?a+('<td class="rnk_font'+f+'"></td>\n'):1==c[b].Id_Position_Penalty?a+('<td class="rnk_font penalty'+f+
'">P '+c[b].Id_PositionCategorie+"</td>\n"):a+('<td class="rnk_font'+f+'">'+c[b].Id_PositionCategorie+"</td>\n"):"no"==useCategory&&(c[b].Id_Image.includes("_Status")&&1==cleanResults?c[b].Id_Image.includes("_Status11")||"_Status1"==c[b].Id_Image?a+='<td class="rnk_font'+f+'"><img class="dnsfq" src="Images/_dnf.svg" alt="dnf"></td>\n':c[b].Id_Image.includes("_Status10")?a+='<td class="rnk_font'+f+'"><img class="dnsfq" src="Images/_dsq.svg" alt="dsq"></td>\n':c[b].Id_Image.includes("_Status12")?a+=
'<td class="rnk_font'+f+'"><img class="dnsfq" src="Images/_dns.svg" alt="dns"></td>\n':c[b].Id_Image.includes("_Status2")?a+='<td class="rnk_font'+f+'"><img class="dnsfq" src="Images/_nq.svg" alt="nq"></td>\n':c[b].Id_Image.includes("_Status")&&(a+='<td class="rnk_font'+f+'"><img class="dnsfq" src="Images/_status.svg" alt="status"></td>\n'):a=c[b].Id_Image.includes("_Status")||"-"==c[b].Id_TpsTour||0==c[b].Id_NbTour||"-"==c[b].Id_NbTour||1==w&&"-"==c[b].Id_TpsTour?a+('<td class="rnk_font'+f+'"></td>\n'):
1==c[b].Id_Position_Penalty?a+('<td class="rnk_font penalty'+f+'">P '+c[b].Id_Position+"</td>\n"):a+('<td class="rnk_font'+f+'">'+c[b].Id_Position+"</td>\n"));f=c[b].Id_Numero;h=c[b].Id_Categorie;a="no"==useCategory&&p[0].includes("\u05de\u05d5\u05d8\u05d5\u05e7\u05e8\u05d5\u05e1")?h.toUpperCase().includes("MX2")||h.toUpperCase().includes("\u05e8\u05d5\u05e7\u05d9\u05d6")?a+('<td class="rnk_font blackCat" aria-label="'+h+'" >'+f+"</td>\n"):h.toUpperCase().includes("\u05e4\u05ea\u05d5\u05d7\u05d4")?
a+('<td class="rnk_font yellowCat" aria-label="'+h+'">'+f+"</td>\n"):h.toUpperCase().includes("\u05e2\u05de\u05de\u05d9\u05ea")?a+('<td class="rnk_font greenCat" aria-label="'+h+'">'+f+"</td>\n"):h.toUpperCase().includes("\u05e1\u05d5\u05e4\u05e8 \u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8")?a+('<td class="rnk_font blueCat" aria-label="'+h+'">'+f+"</td>\n"):h.toUpperCase().includes("\u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8")?a+('<td class="rnk_font grayCat" aria-label="'+h+'">'+f+"</td>\n"):h.toUpperCase().includes("\u05e1\u05e0\u05d9\u05d5\u05e8")||
h.toUpperCase().includes("SENIOR")||h.toUpperCase().includes("MX1")?a+('<td class="rnk_font whiteCat" aria-label="'+h+'">'+f+"</td>\n"):h.toUpperCase().includes("\u05e0\u05e9\u05d9\u05dd")?a+('<td class="rnk_font pinkCat" aria-label="'+h+'">'+f+"</td>\n"):a+('<td class="rnk_font highlight" aria-label="'+h+'">'+f+"</td>\n"):"no"==useCategory&&p[0].includes("\u05d0\u05e0\u05d3\u05d5\u05e8\u05d5")?h.toUpperCase().includes("E1")?a+('<td class="rnk_font blackCat" aria-label="'+h+'" >'+f+"</td>\n"):h.toUpperCase().includes("E2")?
a+('<td class="rnk_font redCat" aria-label="'+h+'">'+f+"</td>\n"):h.toUpperCase().includes("E3")?a+('<td class="rnk_font yellowCat" aria-label="'+h+'">'+f+"</td>\n"):h.toUpperCase().includes("C1")||h.toUpperCase().includes("C2")||h.toUpperCase().includes("C3")||h.toUpperCase().includes("\u05e2\u05de\u05de\u05d9\u05ea")?a+('<td class="rnk_font greenCat" aria-label="'+h+'">'+f+"</td>\n"):h.toUpperCase().includes("\u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8 \u05de\u05e7\u05e6\u05d5\u05e2\u05d9")||h.toUpperCase().includes("\u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8 \u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd")?
a+('<td class="rnk_font grayCat" aria-label="'+h+'">'+f+"</td>\n"):h.toUpperCase().includes("\u05e1\u05d5\u05e4\u05e8 \u05d2'\u05d5\u05e0\u05d9\u05d5\u05e8")?a+('<td class="rnk_font blueCat" aria-label="'+h+'">'+f+"</td>\n"):h.toUpperCase().includes("EXPERT")?a+('<td class="rnk_font orangeCat" aria-label="'+h+'">'+f+"</td>\n"):h.toUpperCase().includes("\u05e1\u05d5\u05e4\u05e8 \u05e1\u05e0\u05d9\u05d5\u05e8")||h.toUpperCase().includes("\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd")?a+('<td class="rnk_font whiteCat" aria-label="'+
h+'">'+f+"</td>\n"):h.toUpperCase().includes("\u05e1\u05e0\u05d9\u05d5\u05e8")?a+('<td class="rnk_font purpleCat" aria-label="'+h+'">'+f+"</td>\n"):a+('<td class="rnk_font highlight" aria-label="'+h+'">'+f+"</td>\n"):"no"==useCategory?a+('<td class="rnk_font highlight" aria-label="'+h+'">'+f+"</td>\n"):a+('<td class="rnk_font highlight">'+f+"</td>\n");a+='<td class="rnk_font">'+c[b].Id_Nom+"</td>\n";if(1==m&&"undefined"!=typeof c[b].Id_Licence&&!c[b].Id_Categorie.includes("\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2\u05d9\u05dd")&&
"yes"==useCategory||1==m&&"undefined"!=typeof c[b].Id_Licence&&"no"==useCategory)a+='<td class="rnk_font">'+c[b].Id_Licence+"</td>\n";1==g&&0==x&&(a="undefined"!=typeof c[b].Id_NbTour?1==c[b].Id_NbTour_Penalty?a+('<td class="rnk_font penalty">P '+c[b].Id_NbTour+"</td>\n"):a+('<td class="rnk_font">'+c[b].Id_NbTour+"</td>\n"):a+'<td class="rnk_font">-</td>\n');if(1==d&&c[b].Id_lap1)for(f=1;f<=G;f++)a=1==l&&c[b]["Id_lap"+f]==H&&c[b].Id_Numero==E?a+('<td class="rnk_font BestTimeOverall">'+c[b]["Id_lap"+
f]+"</td>\n"):1==l&&"-"!=c[b]["Id_lap"+f]&&c[b]["Id_lap"+f]==c[b].Id_MeilleurTour?a+('<td class="rnk_font BestTime">'+c[b]["Id_lap"+f]+"</td>\n"):a+('<td class="rnk_font">'+c[b]["Id_lap"+f]+"</td>\n");else 0==cleanResults&&(a+='<td class="rnk_font'+F[c[b].Id_Numero]+'">'+c[b].Id_TpsTour+"</td>\n"),a+='<td class="rnk_font">'+c[b].Id_MeilleurTour+"</td>\n";timeString2ms(c[b].Id_MeilleurTour)==C&&tickerBestTime!=C&&"???"!=c[b].Id_Nom&&"&nbsp;"!=c[b].Id_Categorie&&(tickerBestTime=C,f=ms2TimeString(tickerBestTime),
"00:"==f.toString().substring(0,3)&&(f=f.substr(3)),"0"==f.toString().substring(0,1)&&f.includes(":")&&(f=f.substr(1)),0==firstPass&&ticker.push(u+" - "+c[b].Id_Nom+" ("+c[b].Id_Numero+") \u05d4\u05e7\u05e4\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4 \u05db\u05dc\u05dc\u05d9\u05ea - "+f));1==I&&1==cleanResults&&("no"==useCategory||"yes"==useCategory&&1==J[c[b].Id_Categorie])?0==w&&0==x&&(a="undefined"!=typeof c[b].Id_TpsCumule?1==c[b].Id_TpsCumule_Penalty?a+('<td class="rnk_font penalty">P '+c[b].Id_TpsCumule+
"</td>\n"):a+('<td class="rnk_font">'+c[b].Id_TpsCumule+"</td>\n"):a+'<td class="rnk_font">-</td>\n',a="undefined"!=typeof c[b].Id_PenaliteTpsCumule&&"-"!=c[b].Id_PenaliteTpsCumule?a+('<td class="rnk_font">'+c[b].Id_PenaliteTpsCumule+"</td>\n"):a+'<td class="rnk_font">-</td>\n'):0==w&&0==x&&(a="undefined"!=typeof c[b].Id_TpsCumule?1==c[b].Id_TpsCumule_Penalty&&"undefined"!=typeof c[b].Id_PenaliteTpsCumule&&"-"!=c[b].Id_PenaliteTpsCumule?a+('<td class="rnk_font penalty" aria-label="\u05e2\u05d5\u05e0\u05e9\u05d9\u05df: '+
c[b].Id_PenaliteTpsCumule+'">P '+c[b].Id_TpsCumule+"</td>\n"):1==c[b].Id_TpsCumule_Penalty?a+('<td class="rnk_font penalty">P '+c[b].Id_TpsCumule+"</td>\n"):a+('<td class="rnk_font">'+c[b].Id_TpsCumule+"</td>\n"):a+'<td class="rnk_font">-</td>\n');"yes"==useCategory?a+='<td class="rnk_font">'+c[b].Id_Ecart1erCategorie+"</td>\n":"no"==useCategory&&(a+='<td class="rnk_font">'+c[b].Id_Ecart1er+"</td>\n");a+="</tr>\n"}"&nbsp;"!=r&&("yes"==useCategory&&1==l&&"-"!=q[r][1]&&"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05db\u05dc\u05dc\u05d9\u05ea"!=
r&&"&nbsp;"!=r?(e=ms2TimeString(Number(q[r][0])),"00:"==e.toString().substring(0,3)&&(e=e.substr(3)),"0"==e.toString().substring(0,1)&&e.includes(":")&&(e=e.substr(1)),a+='<tr><td colspan="99" class="comment_font">\u05d4\u05e7\u05e4\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4: ('+q[r][1]+") "+q[r][2]+" - "+e+"</td></tr>\n</table>\n"):a+="</table>\n");a="no"==useCategory?a+"</table>\n</div>\n":a+"</div>\n";delete q["&nbsp;"];if(1<Object.keys(categoryBestTimePrevious).length&&1<Object.keys(q).length)for(var z in q)q[z][0]!=
categoryBestTimePrevious[z][0]&&"&nbsp;"!=z&&"???"!=q[z][2]&&(e=ms2TimeString(Number(q[z][0])),"00:"==e.toString().substring(0,3)&&(e=e.substr(3)),"0"==e.toString().substring(0,1)&&e.includes(":")&&(e=e.substr(1)),ticker.push(u+" - "+q[z][2]+" ("+q[z][1]+") \u05d4\u05e7\u05e4\u05d4 \u05de\u05d4\u05d9\u05e8\u05d4 \u05d1\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 "+z+' - <span dir="ltr">'+e+"</span>"));categoryBestTimePrevious=q;tableClass="";if(document.getElementById("tickerTest"))if(1==firstPass&&
(ticker=[]),g="",0<ticker.length){g+="<ul>";for(d=0;d<ticker.length;d++)g+="<li>"+ticker[d]+"</li>";g+="</ul>";document.getElementById("tickerTest").innerHTML=g;ticker.shift();5<ticker.length&&ticker.shift();10<ticker.length&&ticker.shift()}else document.getElementById("tickerTest").innerHTML="&nbsp;";sessionStorage.setItem("doNotShowInTicker",JSON.stringify(doNotShowInTicker));sessionStorage.setItem("ticker",JSON.stringify(ticker));sessionStorage.setItem("flag",flag);sessionStorage.setItem("tickerBestTime",
tickerBestTime);sessionStorage.setItem("categoryBestTimePrevious",JSON.stringify(categoryBestTimePrevious));sessionStorage.setItem("positionArrayCat",JSON.stringify(positionArrayCat));sessionStorage.setItem("positionArrayAll",JSON.stringify(positionArrayAll));firstPass=0;return a}function timeString2ms(a){a=a.split(".");var d=1*a[1]||0;a=a[0].split(":");return d+1E3*(a[2]?3600*a[0]+60*a[1]+1*a[2]:a[1]?60*a[0]+1*a[1]:1*a[0])}
function ms2TimeString(a){var d=a%1E3,g=a/1E3%60|0,l=a/6E4%60|0;a=a/36E5%24|0;return(a?(10>a?"0"+a:a)+":":"")+(10>l?0:"")+l+":"+(10>g?0:"")+g+"."+(100>d?10>d?"00":0:"")+d}
function alignTable(){if(0==cleanResults)for(var a=document.querySelectorAll(".line_color"),d=0;d<a.length;d++){var g=a[d].querySelectorAll("th.rnkh_font");14<g.length?a[d].classList.add("huge_table"):10<g.length&&a[d].classList.add("big_table");var l=90/(g.length-2);a[d].querySelectorAll("td.rnk_font:nth-child(n+4)").forEach(function(a){a.style.width=l+"%"});a[d].querySelectorAll("th.rnkh_font:nth-child(n+4)").forEach(function(a){a.style.width=l+"%"})}};
