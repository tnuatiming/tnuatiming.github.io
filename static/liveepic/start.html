<!DOCTYPE html>
<html class="no-js" lang="en" xml:lang="en" dir="ltr">
    <head>
        <title>start clock</title>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>

            @import url(//fonts.googleapis.com/earlyaccess/notosanshebrew.css);

            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }
            body {
                background-color: white;
                cursor: none;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                width: 100%;
                height: 100%;
                min-height: 100%;
                font-family: 'Noto Sans Hebrew', "Noto Sans", 'Open Sans Hebrew', Arial, sans-serif;
            }
        
            #mutebotton {
                order: 1;
                flex: 0 1 auto;
                width: 100%;
                text-align: right;
            }
            #showStopwatch {
                cursor: none;
                color: black;
                order: 2;
                flex: 0 1 auto;
                font-size: 5vh;
                font-weight: 700;
                text-align: left;
                width: 100%;
                padding-left: 2%;
            }
            
            #countdown {
                cursor: none;
                color: black;
                order: 3;
                flex: 1 1 auto;
                margin: 4%;
                width: 90%;
                font-size: 55vh;
                font-weight: 700;
                text-align: center;
                height: 90%;
            }
            .animate {
                animation:changeSize 1s 1;
            }
            @keyframes changeSize {
                0% {transform: scale(0);}
                100% {transform: scale(1);}
            }

            .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
            }

            .switch input { 
            opacity: 0;
            width: 0;
            height: 0;
            }

            .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
            }

            .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
            }

            input:checked + .slider {
            background-color: #666;
            }

            input:focus + .slider {
            box-shadow: 0 0 1px #666;
            }

            input:checked + .slider:before {
            -webkit-transform: translateX(26px);
            -ms-transform: translateX(26px);
            transform: translateX(26px);
            }

            /* Rounded sliders */
            .slider.round {
            border-radius: 34px;
            }

            .slider.round:before {
            border-radius: 50%;
            }
            
    </style>
    <script>

        document.addEventListener("DOMContentLoaded", function() {
            
            document.getElementById("myAudio").muted = true;
            document.getElementById("myAudio1").muted = true;

            const checkbox2 = document.getElementById('mute');

            checkbox2.addEventListener('change', (event) => {
                if (event.target.checked) {
                    document.getElementById("myAudio").muted = false;
                    document.getElementById("myAudio1").muted = false;
                } else {
                    document.getElementById("myAudio").muted = true;
                    document.getElementById("myAudio1").muted = true;
                }

            });
        });  

        // Update the count down every 1 second
        var x = setInterval(function() {

            // Get todays date and time
            var now = new Date();
            var dateString =  ("0" + (now.getUTCHours()+3)).slice(-2) + ':' + ("0" + now.getUTCMinutes()).slice(-2) + ':' + ("0" + now.getUTCSeconds()).slice(-2);
                
            document.getElementById("showStopwatch").innerHTML = dateString;
            
            if ((now.getUTCSeconds() == 0) || (now.getUTCSeconds() == 30)) {
                document.getElementById("countdown").classList.add("animate");
                setTimeout(function(){
                    document.getElementById("countdown").classList.remove('animate')
                },900)
                document.getElementById("myAudio1").play();
            }                
                            
            if ((now.getUTCSeconds() >= 0 && now.getUTCSeconds() < 5) || (now.getUTCSeconds() >= 30 && now.getUTCSeconds() < 35)) {
                document.body.style.backgroundColor = "#6c3";
                document.getElementById("showStopwatch").style.color="white";
                document.getElementById("countdown").style.color="white";

            } else if ((now.getUTCSeconds() >= 50 && now.getUTCSeconds() <= 59) || (now.getUTCSeconds() >= 20 && now.getUTCSeconds() <= 29)) {
                document.body.style.backgroundColor = "yellow";
                document.getElementById("showStopwatch").style.color="black";
                document.getElementById("countdown").style.color="black";
                document.getElementById("countdown").classList.add("animate");
                setTimeout(function(){
                    document.getElementById("countdown").classList.remove('animate')
                },900)
            } else {
                document.body.style.backgroundColor = "white";
                document.getElementById("showStopwatch").style.color="black";
                document.getElementById("countdown").style.color="black";
            }
            
            if (now.getUTCSeconds() == 50 || now.getUTCSeconds() == 20) {
                document.getElementById("countdown").innerHTML = "10";
            } else if (now.getUTCSeconds() == 51 || now.getUTCSeconds() == 21) {
                document.getElementById("countdown").innerHTML = "9";
            } else if (now.getUTCSeconds() == 52 || now.getUTCSeconds() == 22) {
                document.getElementById("countdown").innerHTML = "8";
            } else if (now.getUTCSeconds() == 53 || now.getUTCSeconds() == 23) {
                document.getElementById("countdown").innerHTML = "7";
            } else if (now.getUTCSeconds() == 54 || now.getUTCSeconds() == 24) {
                document.getElementById("countdown").innerHTML = "6";
            } else if (now.getUTCSeconds() == 55 || now.getUTCSeconds() == 25) {
                document.getElementById("countdown").innerHTML = "5";
            } else if (now.getUTCSeconds() == 56 || now.getUTCSeconds() == 26) {
                document.getElementById("countdown").innerHTML = "4";
            } else if (now.getUTCSeconds() == 57 || now.getUTCSeconds() == 27) {
                document.getElementById("countdown").innerHTML = "3";
                document.getElementById("myAudio").play();
            } else if (now.getUTCSeconds() == 58 || now.getUTCSeconds() == 28) {
                document.getElementById("countdown").innerHTML = "2";
                document.getElementById("myAudio").play();
            } else if (now.getUTCSeconds() == 59 || now.getUTCSeconds() == 29) {
                document.getElementById("countdown").innerHTML = "1";
                document.getElementById("myAudio").play();
            } else if ((now.getUTCSeconds() >= 0 && now.getUTCSeconds() < 5) || (now.getUTCSeconds() >= 30 && now.getUTCSeconds() < 35)) {
                document.getElementById("countdown").innerHTML = "GO!";
            } else {
                document.getElementById("countdown").innerHTML = "&nbsp;";
            }
        
        }, 1000);
                    
    </script>
    
    </head>
    <body>
    
        <div id="mutebotton"> 
             <label class="switch">
                <input id="mute" type="checkbox">
                <span class="slider round"></span>
            </label>
        </div>

        <div id="showStopwatch"></div> 

        <div id="countdown"></div> 
    
            <audio id="myAudio">
            <source src="Images/beep-02.mp3" type="audio/mpeg">
            </audio>
            <audio id="myAudio1">
            <source src="Images/beep-09.mp3" type="audio/mpeg">
            </audio>
    
  </body>
</html>
